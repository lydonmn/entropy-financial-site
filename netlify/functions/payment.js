const stripe = require("stripe")(process.env.STRIPE_SECRET_KEY);\n\nexports.handler = async (event) => {\n  try {\n    const { amount } = JSON.parse(event.body);\n    const paymentIntent = await stripe.paymentIntents.create({\n      amount: amount,\n      currency: "usd",\n      payment_method_types: ["card"],\n    });\n    return {\n      statusCode: 200,\n      body: JSON.stringify({ clientSecret: paymentIntent.client_secret }),\n    };\n  } catch (error) {\n    return {\n      statusCode: 500,\n      body: JSON.stringify({ error: error.message }),\n    };\n  }\n};
